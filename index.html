<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;K-pop Sudoku-Wordle&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>body { font-family: sans-serif; padding: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.table { display: grid; grid-template-columns: 200px repeat(3, 200px); grid-auto-rows: 50px; gap: 5px; margin-bottom: 20px;}</p>
<p class="p1"><span class="Apple-converted-space">    </span>.cell { display: flex; justify-content: center; align-items: center; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>select { width: 90%; height: 90%; font-size: 14px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.highlight { background-color: #a0e7a0; } /* green */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.wrong { background-color: #e0e0e0; } <span class="Apple-converted-space">    </span>/* gray */</p>
<p class="p1"><span class="Apple-converted-space">    </span>.cat { font-weight: bold; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button { padding: 10px 20px; font-size: 16px; margin-right: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;h2&gt;K-pop Sudoku-Wordle&lt;/h2&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;button onclick="generateAndBuildPuzzle()"&gt;New Puzzle&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;button onclick="checkGrid()"&gt;Check Answers&lt;/button&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div class="table" id="grid"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">// === Data ===</p>
<p class="p1">const categories = {1:'Girl Group',2:'Boy Group',3:'Currently &lt;7 members',4:'7-9 members',5:'10+ members',</p>
<p class="p1">6:'From survival show',7:'Member in multiple groups',8:'Has member named Jimin',9:'Has member named Chaeyoung',</p>
<p class="p1">10:'Has member named Jiwoo',11:'Has member named Chaewon',12:'Has survival show non-debuter',</p>
<p class="p1">13:'Not under Big 4',14:'Under Big 4',15:'HYBE Group',16:'SM Group',17:'JYPE Group',18:'YG Group',</p>
<p class="p1">19:'Lost member',20:'Added member',21:'2nd gen',22:'3rd gen',23:'4th gen',24:'5th gen',25:'Has American member',</p>
<p class="p1">26:'Has Australian member',27:'Has Filipino member',28:'Has Japanese member',29:'Has Chinese member',</p>
<p class="p1">30:'Has Taiwanese member',31:'Has Thai member',32:'Has Canadian member',33:'Has mixed member',</p>
<p class="p1">34:'Has white member',35:'Has Indian member',36:'Has Indonesian member',37:'2010 maknae',38:'2009 maknae',</p>
<p class="p1">39:'2008 maknae',40:'Kids show collab',41:'Has IOI member',42:'Has IZ*ONE member',43:'Has Vietnamese member',</p>
<p class="p1">44:'Members same real name',45:'Disbanded'};</p>
<p class="p2"><br></p>
<p class="p1">const groups = {</p>
<p class="p1">'TripleS':[1,5,7,10,11,12,13,20,24,28,29,30,33,37,43,44],'TWICE':[1,4,6,9,12,14,17,22,25,28,30],</p>
<p class="p1">'LE SSERAFIM':[1,3,7,12,14,15,19,23,25,42],'BABYMONSTER':[1,4,14,18,24,28,31,38],'Aespa':[1,3,8,14,16,23,25,28,29],</p>
<p class="p1">'ILLIT':[1,3,6,12,14,15,24,28,39],'ITZY':[1,3,12,14,17,23,32],'Red Velvet':[1,3,14,16,20,22,32],</p>
<p class="p1">'(G)I-DLE':[1,3,12,13,19,23,29,30,31],'IVE':[1,3,7,13,23,28,42],'NMIXX':[1,3,10,14,17,19,23,26,33,34,40],</p>
<p class="p1">'KATSEYE':[1,3,6,13,15,24,25,27,29,33,34,35],'MAMAMOO':[1,3,13,22],'NewJeans':[1,3,14,15,19,23,26,43],</p>
<p class="p1">'STAYC':[1,3,23],'KISS OF LIFE':[1,3,12,13,24,25,31],'Girls\' Generation':[1,4,14,16,19,21,25],'2NE1':[1,3,14,18,21],</p>
<p class="p1">'MEOVV':[1,3,13,24,25,28,33,34],'VIVIZ':[1,3,7,13,23,44],'HEARTS2HEARTS':[1,4,10,14,16,24,36,37],'IZNA':[1,3,6,19,24,28,39],</p>
<p class="p1">'ALLDAY PROJECT':[3,12,24,25],'GFRIEND':[1,3,22,44,45],'f(x)':[1,3,14,16,22,25,29],'T-ARA':[1,3,13,19,21],</p>
<p class="p1">'Apink':[1,3,19],'LOOSSEMBLE':[1,3,7,11,12,13,24,29],'ARTMS':[1,3,7,12,13,24],'Kep1er':[1,4,6,7,12,13,19,23,25,28,29,33,34,40],</p>
<p class="p1">'MADEIN':[1,4,7,12,13,19,24,28],'UNIS':[1,4,6,7,13,24,27,26,33],'KiiiKiii':[1,3,13,24,37],'Say My Name':[1,4,7,12,13,20,24,28,29,31,37,42],</p>
<p class="p1">'LOONA':[1,5,7,11,12,13,19,23,29,45],'IZ*ONE':[1,5,6,7,13,23,28,42]</p>
<p class="p1">};</p>
<p class="p2"><br></p>
<p class="p1">// === Helpers ===</p>
<p class="p1">function randomSample(array,n){ const copy=[...array]; const res=[]; for(let i=0;i&lt;n;i++){ const idx=Math.floor(Math.random()*copy.length); res.push(copy.splice(idx,1)[0]);} return res;}</p>
<p class="p2"><br></p>
<p class="p1">let puzzle,rowCats,colCats,dropdowns=[];</p>
<p class="p2"><br></p>
<p class="p1">function generatePuzzle(){</p>
<p class="p1"><span class="Apple-converted-space">  </span>const catKeys = Object.keys(categories).map(x=&gt;parseInt(x));</p>
<p class="p1"><span class="Apple-converted-space">  </span>let attempts = 0;</p>
<p class="p1"><span class="Apple-converted-space">  </span>while(attempts &lt; 500){</p>
<p class="p1"><span class="Apple-converted-space">    </span>attempts++;</p>
<p class="p1"><span class="Apple-converted-space">    </span>rowCats = randomSample(catKeys,3);</p>
<p class="p1"><span class="Apple-converted-space">    </span>colCats = randomSample(catKeys,3);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Prevent any overlap between row and column categories</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(rowCats.some(r =&gt; colCats.includes(r))) continue;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const cellOptions=[]; let valid=true;</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let r=0;r&lt;3;r++){</p>
<p class="p1"><span class="Apple-converted-space">      </span>for(let c=0;c&lt;3;c++){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const candidates = Object.keys(groups).filter(g=&gt;groups[g].includes(rowCats[r]) &amp;&amp; groups[g].includes(colCats[c]));</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(candidates.length===0){ valid=false; break;}</p>
<p class="p1"><span class="Apple-converted-space">        </span>cellOptions.push(candidates);</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(!valid) break;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(!valid) continue;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// Backtracking to assign 9 unique groups</p>
<p class="p1"><span class="Apple-converted-space">    </span>puzzle = Array(3).fill(0).map(()=&gt;Array(3).fill(''));</p>
<p class="p1"><span class="Apple-converted-space">    </span>const used = new Set();</p>
<p class="p1"><span class="Apple-converted-space">    </span>function assignCell(idx){</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(idx===9) return true;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const r=Math.floor(idx/3), c=idx%3;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const candidates = cellOptions[idx].filter(g=&gt;!used.has(g));</p>
<p class="p1"><span class="Apple-converted-space">      </span>for(const g of candidates){</p>
<p class="p1"><span class="Apple-converted-space">        </span>puzzle[r][c]=g; used.add(g);</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(assignCell(idx+1)) return true;</p>
<p class="p1"><span class="Apple-converted-space">        </span>used.delete(g); puzzle[r][c]='';</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>return false;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>if(assignCell(0)) return; // success</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>console.error("Failed to generate puzzle after 500 attempts. Try reducing category set.");</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// === Build Table ===</p>
<p class="p1">function generateAndBuildPuzzle(){</p>
<p class="p1"><span class="Apple-converted-space">  </span>generatePuzzle();</p>
<p class="p1"><span class="Apple-converted-space">  </span>const gridDiv = document.getElementById("grid");</p>
<p class="p1"><span class="Apple-converted-space">  </span>gridDiv.innerHTML=''; dropdowns=[];</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>// Empty top-left</p>
<p class="p1"><span class="Apple-converted-space">  </span>gridDiv.appendChild(document.createElement('div'));</p>
<p class="p1"><span class="Apple-converted-space">  </span>// Column cats</p>
<p class="p1"><span class="Apple-converted-space">  </span>for(let c=0;c&lt;3;c++){ const div=document.createElement('div'); div.className='cell cat'; div.innerText=categories[colCats[c]]; gridDiv.appendChild(div);}</p>
<p class="p2"><span class="Apple-converted-space">  </span></p>
<p class="p1"><span class="Apple-converted-space">  </span>for(let r=0;r&lt;3;r++){</p>
<p class="p1"><span class="Apple-converted-space">    </span>dropdowns[r]=[];</p>
<p class="p1"><span class="Apple-converted-space">    </span>// Row cat</p>
<p class="p1"><span class="Apple-converted-space">    </span>const div=document.createElement('div'); div.className='cell cat'; div.innerText=categories[rowCats[r]]; gridDiv.appendChild(div);</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let c=0;c&lt;3;c++){</p>
<p class="p1"><span class="Apple-converted-space">      </span>const sel=document.createElement('select');</p>
<p class="p1"><span class="Apple-converted-space">      </span>sel.dataset.row=r; sel.dataset.col=c;</p>
<p class="p1"><span class="Apple-converted-space">      </span>Object.keys(groups).forEach(g=&gt;{ const opt=document.createElement('option'); opt.value=g; opt.innerText=g; sel.appendChild(opt);});</p>
<p class="p1"><span class="Apple-converted-space">      </span>sel.addEventListener('change', enforceNoRepeats);</p>
<p class="p1"><span class="Apple-converted-space">      </span>dropdowns[r][c]=sel;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const cellDiv=document.createElement('div'); cellDiv.className='cell'; cellDiv.appendChild(sel); gridDiv.appendChild(cellDiv);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>enforceNoRepeats(); // initialize disabled options</p>
<p class="p1"><span class="Apple-converted-space">  </span>console.log("Puzzle generated! Row cats:", rowCats.map(r=&gt;categories[r]), "Col cats:", colCats.map(c=&gt;categories[c]));</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// === No repeats logic ===</p>
<p class="p1">function enforceNoRepeats(){</p>
<p class="p1"><span class="Apple-converted-space">  </span>const used = new Set();</p>
<p class="p1"><span class="Apple-converted-space">  </span>dropdowns.flat().forEach(sel=&gt;{ if(sel.value) used.add(sel.value); });</p>
<p class="p1"><span class="Apple-converted-space">  </span>dropdowns.flat().forEach(sel=&gt;{</p>
<p class="p1"><span class="Apple-converted-space">    </span>Array.from(sel.options).forEach(opt=&gt;{</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(used.has(opt.value) &amp;&amp; opt.value!==sel.value) opt.disabled=true;</p>
<p class="p1"><span class="Apple-converted-space">      </span>else opt.disabled=false;</p>
<p class="p1"><span class="Apple-converted-space">    </span>});</p>
<p class="p1"><span class="Apple-converted-space">  </span>});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// === Check Answers &amp; Confetti ===</p>
<p class="p1">function checkGrid(){</p>
<p class="p1"><span class="Apple-converted-space">  </span>let allCorrect=true;</p>
<p class="p1"><span class="Apple-converted-space">  </span>for(let r=0;r&lt;3;r++){</p>
<p class="p1"><span class="Apple-converted-space">    </span>for(let c=0;c&lt;3;c++){</p>
<p class="p1"><span class="Apple-converted-space">      </span>const val=dropdowns[r][c].value;</p>
<p class="p1"><span class="Apple-converted-space">      </span>const sel=dropdowns[r][c];</p>
<p class="p1"><span class="Apple-converted-space">      </span>if(groups[val].includes(rowCats[r]) &amp;&amp; groups[val].includes(colCats[c])){</p>
<p class="p1"><span class="Apple-converted-space">        </span>sel.classList.add('highlight'); sel.classList.remove('wrong');</p>
<p class="p1"><span class="Apple-converted-space">      </span>}else{</p>
<p class="p1"><span class="Apple-converted-space">        </span>sel.classList.add('wrong'); sel.classList.remove('highlight');</p>
<p class="p1"><span class="Apple-converted-space">        </span>allCorrect=false;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>}</p>
<p class="p1"><span class="Apple-converted-space">  </span>if(allCorrect) confetti({particleCount:150, spread:70, origin:{y:0.6}});</p>
<p class="p1">}</p>
<p class="p2"><br></p>
<p class="p1">// === Init ===</p>
<p class="p1">generateAndBuildPuzzle();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
